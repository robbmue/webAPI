<!DOCTYPE HTML>
<html lang="en">

<head>
  <!-- basic.html -->
  <title>notificationAPI</title>
  <meta charset="UTF-8" />
  <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
  <h1>The Notification API</h1>

  <p>
    This API allows web apps to send notifications at system level and not only at website level. <br>
    This way an application can notify the user, even when it is idle or in background. <br>
    An typical use-case would be a chat or mail application, where you want to user get the message immediatly. <br>
    To use this API you must check for the right permissions, they can be accessed via <br>
    <code> Notification.permission </code> <br>
    and can be <br>
    <ul>
      <li><b>default</b> - the user hasn't been asked yet, so no notifications</li>
      <li><b>denied</b> - no notificaitons can be displayed</li>
      <li><b>granted</b> - you are good to go and can display notificaitons</li>
    </ul>
  </p>
  <p>
    Dont worry if you dont have the right permissions set, they can be requested like this:<br>
    <code>
      if (Notification.permission !== "denied") { <br>
      Notification.requestPermission().then(function (permission) { <br>
      //Do whatever you want to do <br>
      });
    </code> <br>
    And finally the notification is created like this: <br>
    <code>
      var notification = new Notification("Hi there!");
    </code> <br>
    Try it out below!
    <br>

  </p>

  <button onclick="notifyMe()">Notify me!</button>

  <script>
    function notifyMe() {
      // Let's check if the browser supports notifications
      if (!("Notification" in window)) {
        alert("This browser does not support desktop notification");
      }

      // Let's check whether notification permissions have already been granted
      else if (Notification.permission === "granted") {
        // If it's okay let's create a notification
        var notification = new Notification("Hi there!");
      }

      // Otherwise, we need to ask the user for permission
      else if (Notification.permission !== "denied") {
        Notification.requestPermission().then(function (permission) {
          // If the user accepts, let's create a notification
          if (permission === "granted") {
            var notification = new Notification("Hi there!");
          }
        });
      }

      // At last, if the user has denied notifications, and you
      // want to be respectful there is no need to bother them any more.
    }
  </script>
  <a href="index.html"> back </button>
</body>